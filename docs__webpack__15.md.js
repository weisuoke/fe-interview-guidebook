(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[142],{kin7:function(e,n,a){"use strict";a.r(n);var t=a("q1tI"),l=a.n(t),r=a("dEAq"),c=a("H1Ra"),o=l.a.memo((e=>{e.demos;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"tree-shaking\u4e86\u89e3\u8fc7\u4e48\u5b83\u7684\u5b9e\u73b0\u539f\u7406\u8bf4\u4e00\u4e0b"},l.a.createElement(r["AnchorLink"],{to:"#tree-shaking\u4e86\u89e3\u8fc7\u4e48\u5b83\u7684\u5b9e\u73b0\u539f\u7406\u8bf4\u4e00\u4e0b","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"tree-shaking\u4e86\u89e3\u8fc7\u4e48?\u5b83\u7684\u5b9e\u73b0\u539f\u7406\u8bf4\u4e00\u4e0b"),l.a.createElement(c["a"],{code:'var babel = require("@babel/core");\nlet { transform } = require("@babel/core");',lang:"js"}),l.a.createElement("h2",{id:"1-\u5b9e\u73b0\u6309\u9700\u52a0\u8f7d"},l.a.createElement(r["AnchorLink"],{to:"#1-\u5b9e\u73b0\u6309\u9700\u52a0\u8f7d","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1 \u5b9e\u73b0\u6309\u9700\u52a0\u8f7d"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(r["Link"],{to:"https://www.lodashjs.com/docs/4.17.5.html#concat"},"lodashjs")),l.a.createElement("li",null,l.a.createElement(r["Link"],{to:"https://babeljs.io/docs/en/babel-core"},"babel-core")),l.a.createElement("li",null,l.a.createElement(r["Link"],{to:"https://www.npmjs.com/package/babel-plugin-import"},"babel-plugin-import"))),l.a.createElement(c["a"],{code:'import { flatten, concat } from "lodash";',lang:"js"}),l.a.createElement("p",null,l.a.createElement("img",{src:"https://wsk-mweb.oss-cn-hangzhou.aliyuncs.com/ipic/2020-10-08-081024.png",alt:"treeshakingleft"})),l.a.createElement("p",null,"\u8f6c\u6362\u4e3a"),l.a.createElement(c["a"],{code:'import flatten from "lodash/flatten";\nimport concat from "lodash/flatten";',lang:"js"}),l.a.createElement("p",null,l.a.createElement("img",{src:"https://wsk-mweb.oss-cn-hangzhou.aliyuncs.com/ipic/2020-10-08-081026.png",alt:"treeshakingright"})),l.a.createElement("h2",{id:"2-webpack-\u914d\u7f6e"},l.a.createElement(r["AnchorLink"],{to:"#2-webpack-\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"2 webpack \u914d\u7f6e"),l.a.createElement(c["a"],{code:'cnpm i webpack webpack-cli -D\nconst path = require("path");\nmodule.exports = {\n  mode: "development",\n  entry: "./src/index.js",\n  output: {\n    path: path.resolve("dist"),\n    filename: "bundle.js",\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        use: {\n          loader: "babel-loader",\n          options: {\n            plugins: [["import", { library: "lodash" }]],\n          },\n        },\n      },\n    ],\n  },\n};',lang:"js"}),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u7f16\u8bd1\u987a\u5e8f\u4e3a\u9996\u5148",l.a.createElement("code",null,"plugins"),"\u4ece\u5de6\u5f80\u53f3,\u7136\u540e",l.a.createElement("code",null,"presets"),"\u4ece\u53f3\u5f80\u5de6")),l.a.createElement("h2",{id:"3-babel-\u63d2\u4ef6"},l.a.createElement(r["AnchorLink"],{to:"#3-babel-\u63d2\u4ef6","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"3 babel \u63d2\u4ef6"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("code",null,"babel-plugin-import.js"),"\u653e\u7f6e\u5728 node_modules \u76ee\u5f55\u4e0b")),l.a.createElement(c["a"],{code:'let babel = require("@babel/core");\nlet types = require("babel-types");\nconst visitor = {\n  ImportDeclaration: {\n    enter(path, state = { opts }) {\n      const specifiers = path.node.specifiers;\n      const source = path.node.source;\n      if (\n        state.opts.library == source.value &&\n        !types.isImportDefaultSpecifier(specifiers[0])\n      ) {\n        const declarations = specifiers.map((specifier, index) => {\n          return types.ImportDeclaration(\n            [types.importDefaultSpecifier(specifier.local)],\n            types.stringLiteral(`${source.value}/${specifier.local.name}`)\n          );\n        });\n        path.replaceWithMultiple(declarations);\n      }\n    },\n  },\n};\nmodule.exports = function (babel) {\n  return {\n    visitor,\n  };\n};',lang:"js"})))}));n["default"]=e=>{var n=l.a.useContext(r["context"]),a=n.demos;return l.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.a.createElement(o,{demos:a})}}}]);