<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.5.21
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.indexOf(e) > -1 ? e : r[0]
        );
      })();
    </script>
    <title>模块化 - 前端面试手册</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/js/basic/090" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" href="/">前端面试手册</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span><a aria-current="page" class="active" href="/js">JavaScript</a></span><span><a href="/css">CSS</a></span><span><a href="/react">React</a></span><span><a href="/explorer">浏览器</a></span><span><a href="/network">网络</a></span><span><a href="/webpack">Webpack</a></span><span><a href="/node">Node</a></span><span><a href="/gof">设计模式</a></span><span><a href="/security">安全</a></span><span><a href="/algorithm">算法</a></span><span><a href="/skill">软技能</a></span><span><a href="/v8">V8</a></span><span><a href="/optimize">性能优化</a></span><span><a href="/wiki">Wiki</a></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" href="/"></a><h1>前端面试手册</h1><p>前端面试手册</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/js">JavaScript</a></li><li><a href="/css">CSS</a></li><li><a href="/react">React</a></li><li><a href="/explorer">浏览器</a></li><li><a href="/network">网络</a></li><li><a href="/webpack">Webpack</a></li><li><a href="/node">Node</a></li><li><a href="/gof">设计模式</a></li><li><a href="/security">安全</a></li><li><a href="/algorithm">算法</a></li><li><a href="/skill">软技能</a></li><li><a href="/v8">V8</a></li><li><a href="/optimize">性能优化</a></li><li><a href="/wiki">Wiki</a></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a target="_blank" rel="noopener noreferrer">基础</a><ul><li><a href="/js/basic"><span>概述</span></a></li><li><a href="/js/basic/002"><span>继承</span></a></li><li><a href="/js/basic/003"><span>闭包</span></a></li><li><a href="/js/basic/004"><span>变量对象</span></a></li><li><a href="/js/basic/005"><span>作用域链</span></a></li><li><a href="/js/basic/010"><span>原型</span></a></li><li><a href="/js/basic/030"><span>事件循环（Event Loop）</span></a></li><li><a href="/js/basic/031"><span>说一下对事件流的理解</span></a></li><li><a href="/js/basic/032"><span>事件代理</span></a></li><li><a href="/js/basic/049"><span>异步方案</span></a></li><li><a href="/js/basic/050"><span>Promise</span></a></li><li><a href="/js/basic/060"><span>Async</span></a></li><li><a href="/js/basic/070"><span>浮点数精度问题</span></a></li><li><a href="/js/basic/080"><span>前端异常处理</span></a></li><li><a aria-current="page" class="active" href="/js/basic/090"><span>模块化</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">仿写系列</a><ul><li><a href="/js/hand/new"><span>重写 new</span></a></li><li><a href="/js/hand/call"><span>重写 call</span></a></li><li><a href="/js/hand/apply"><span>重写 apply</span></a></li><li><a href="/js/hand/bind"><span>重写 bind</span></a></li><li><a href="/js/hand/instanceof"><span>实现 instanceof</span></a></li><li><a href="/js/hand/object-create"><span>实现 Object.create()</span></a></li><li><a href="/js/hand/object-assign"><span>实现 Object.assign()</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">工具方法</a><ul><li><a href="/js/tool"><span>概述</span></a></li><li><a href="/js/tool/debounce"><span>防抖函数</span></a></li><li><a href="/js/tool/throttle"><span>节流函数</span></a></li><li><a href="/js/tool/deep-clone"><span>深拷贝（深克隆）</span></a></li><li><a href="/js/tool/deep-assign"><span>深合并</span></a></li><li><a href="/js/tool/is"><span>深比较</span></a></li><li><a href="/js/tool/type"><span>类型检测</span></a></li><li><a href="/js/tool/millimeter"><span>实现千分符</span></a></li><li><a href="/js/tool/unique"><span>数组去重</span></a></li><li><a href="/js/tool/lazy-load"><span>懒加载</span></a></li><li><a href="/js/tool/flatten"><span>数组展平</span></a></li><li><a href="/js/tool/trim"><span>trim</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">函数式编程</a><ul><li><a href="/js/fp"><span>概述</span></a></li><li><a href="/js/fp/map"><span>map</span></a></li><li><a href="/js/fp/filter"><span>filter</span></a></li><li><a href="/js/fp/reduce"><span>reduce</span></a></li><li><a href="/js/fp/flat"><span>flat</span></a></li><li><a href="/js/fp/curry"><span>柯里化（curry）</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">ES6+</a><ul><li><a href="/js/es6/01"><span>let/const/var</span></a></li><li><a href="/js/es6/02"><span>es6新特性</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">珠峰JS面试-前端基础</a><ul><li><a href="/js/zf/01"><span>1. 前端基础</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="一、模块化的理解" data-depth="2"><a href="/js/basic/090#一模块化的理解"><span>一、模块化的理解</span></a></li><li title="1.什么是模块?" data-depth="3"><a href="/js/basic/090#1什么是模块"><span>1.什么是模块?</span></a></li><li title="2.模块化的进化过程" data-depth="3"><a href="/js/basic/090#2模块化的进化过程"><span>2.模块化的进化过程</span></a></li><li title="3. 模块化的好处" data-depth="3"><a href="/js/basic/090#3-模块化的好处"><span>3. 模块化的好处</span></a></li><li title="4. 引入多个&lt;script&gt;后出现出现问题" data-depth="3"><a href="/js/basic/090#4-引入多个script后出现出现问题"><span>4. 引入多个&lt;script&gt;后出现出现问题</span></a></li><li title="二、模块化规范" data-depth="2"><a href="/js/basic/090#二模块化规范"><span>二、模块化规范</span></a></li><li title="1.CommonJS" data-depth="3"><a href="/js/basic/090#1commonjs"><span>1.CommonJS</span></a></li><li title="2.AMD" data-depth="3"><a href="/js/basic/090#2amd"><span>2.AMD</span></a></li><li title="3.CMD" data-depth="3"><a href="/js/basic/090#3cmd"><span>3.CMD</span></a></li><li title="4.ES6模块化" data-depth="3"><a href="/js/basic/090#4es6模块化"><span>4.ES6模块化</span></a></li><li title="三、总结" data-depth="2"><a href="/js/basic/090#三总结"><span>三、总结</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="模块化"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#模块化"><span class="icon icon-link"></span></a>模块化</h1><h2 id="一模块化的理解"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#一模块化的理解"><span class="icon icon-link"></span></a>一、模块化的理解</h2><h3 id="1什么是模块"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#1什么是模块"><span class="icon icon-link"></span></a>1.什么是模块?</h3><ul><li>将一个复杂的程序依据一定的规则(规范)封装成几个块(文件), 并进行组合在一起</li><li>块的内部数据与实现是私有的, 只是向外部暴露一些接口(方法)与外部其它模块通信</li></ul><h3 id="2模块化的进化过程"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#2模块化的进化过程"><span class="icon icon-link"></span></a>2.模块化的进化过程</h3><ul><li><strong>全局function模式 : 将不同的功能封装成不同的全局函数</strong><ul><li>编码: 将不同的功能封装成不同的全局函数</li><li>问题: 污染全局命名空间, 容易引起命名冲突或数据不安全，而且模块成员之间看不出直接关系</li></ul></li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-actionscript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">function m1(){</span></div><div class="token-line"><span class="token plain">  //...</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain">function m2(){</span></div><div class="token-line"><span class="token plain">  //...</span></div><div class="token-line"><span class="token plain">}</span></div></pre></div><ul><li><strong>namespace模式 : 简单对象封装</strong><ul><li>作用: 减少了全局变量，解决命名冲突</li><li>问题: 数据不安全(外部可以直接修改模块内部的数据)</li></ul></li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> myModule </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token literal-property property">data</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;www.baidu.com&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">foo() </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation keyword">this</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation property-access">data</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">bar() </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation keyword">this</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation property-access">data</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myModule</span><span class="token punctuation">.</span><span class="token property-access">data</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;other data&#x27;</span><span class="token plain"> </span><span class="token comment">//能直接修改模块内部的数据</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myModule</span><span class="token punctuation">.</span><span class="token method function property-access">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token comment">// foo() other data</span></div></pre></div><p>这样的写法会暴露所有模块成员，内部状态可以被外部改写。</p><ul><li><strong>IIFE模式：匿名函数自调用(闭包)</strong><ul><li>作用: 数据是私有的, 外部只能通过暴露的方法操作</li><li>编码: 将数据和行为封装到一个函数内部, 通过给window添加属性来向外暴露接口</li><li>问题: 如果当前这个模块依赖另一个模块怎么办?</li></ul></li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-xml"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">// index.html文件</span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">src</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">module.js</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    myModule.foo()</span></div><div class="token-line"><span class="token plain">    myModule.bar()</span></div><div class="token-line"><span class="token plain">    console.log(myModule.data) //undefined 不能访问模块内部数据</span></div><div class="token-line"><span class="token plain">    myModule.data = &#x27;xxxx&#x27; //不是修改的模块内部的data</span></div><div class="token-line"><span class="token plain">    myModule.foo() //没有改变</span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">// module.js文件</span></div><div class="token-line"><span class="token plain">(function(window) {</span></div><div class="token-line"><span class="token plain">  let data = &#x27;www.baidu.com&#x27;</span></div><div class="token-line"><span class="token plain">  //操作数据的函数</span></div><div class="token-line"><span class="token plain">  function foo() {</span></div><div class="token-line"><span class="token plain">    //用于暴露有函数</span></div><div class="token-line"><span class="token plain">    console.log(`foo() ${data}`)</span></div><div class="token-line"><span class="token plain">  }</span></div><div class="token-line"><span class="token plain">  function bar() {</span></div><div class="token-line"><span class="token plain">    //用于暴露有函数</span></div><div class="token-line"><span class="token plain">    console.log(`bar() ${data}`)</span></div><div class="token-line"><span class="token plain">    otherFun() //内部调用</span></div><div class="token-line"><span class="token plain">  }</span></div><div class="token-line"><span class="token plain">  function otherFun() {</span></div><div class="token-line"><span class="token plain">    //内部私有的函数</span></div><div class="token-line"><span class="token plain">    console.log(&#x27;otherFun()&#x27;)</span></div><div class="token-line"><span class="token plain">  }</span></div><div class="token-line"><span class="token plain">  //暴露行为</span></div><div class="token-line"><span class="token plain">  window.myModule = { foo, bar } //ES6写法</span></div><div class="token-line"><span class="token plain">})(window)</span></div></pre></div><p>最后得到的结果：</p><p><img src="http://wuxiao-tech-doc.oss-cn-hangzhou.aliyuncs.com/2022-02-20-020742.png" alt="img"/></p><ul><li><strong>IIFE模式增强 : 引入依赖</strong></li></ul><p>这就是现代模块实现的基石</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// module.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter dom variable">window</span><span class="token parameter punctuation">,</span><span class="token parameter"> $</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;www.baidu.com&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//操作数据的函数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">//用于暴露有函数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">foo() </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">data</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#x27;body&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">css</span><span class="token punctuation">(</span><span class="token string">&#x27;background&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;red&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">//用于暴露有函数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">bar() </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">data</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">otherFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token comment">//内部调用</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">otherFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">//内部私有的函数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;otherFun()&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//暴露行为</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myModule</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> foo</span><span class="token punctuation">,</span><span class="token plain"> bar </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">,</span><span class="token plain"> jQuery</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span><span class="token comment">// index.html文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token plain"> 引入的js必须有一定顺序 </span><span class="token operator">--</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token plain">script type</span><span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token plain"> src</span><span class="token operator">=</span><span class="token string">&quot;jquery-1.10.1.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">script</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token plain">script type</span><span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token plain"> src</span><span class="token operator">=</span><span class="token string">&quot;module.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">script</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token plain">script type</span><span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    myModule</span><span class="token punctuation">.</span><span class="token method function property-access">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">script</span><span class="token operator">&gt;</span></div></pre></div><p>上例子通过jquery方法将页面的背景颜色改成红色，所以必须先引入jQuery库，就把这个库当作参数传入。<strong>这样做除了保证模块的独立性，还使得模块之间的依赖关系变得明显</strong>。</p><h3 id="3-模块化的好处"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#3-模块化的好处"><span class="icon icon-link"></span></a>3. 模块化的好处</h3><ul><li>避免命名冲突(减少命名空间污染)</li><li>更好的分离, 按需加载</li><li>更高复用性</li><li>高可维护性</li></ul><h3 id="4-引入多个script后出现出现问题"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#4-引入多个script后出现出现问题"><span class="icon icon-link"></span></a>4. 引入多个<code>&lt;script&gt;</code>后出现出现问题</h3><ul><li>请求过多</li></ul><p>首先我们要依赖多个模块，那样就会发送多个请求，导致请求过多</p><ul><li>依赖模糊</li></ul><p>我们不知道他们的具体依赖关系是什么，也就是说很容易因为不了解他们之间的依赖关系导致加载先后顺序出错。</p><ul><li>难以维护</li></ul><p>以上两种原因就导致了很难维护，很可能出现牵一发而动全身的情况导致项目出现严重的问题。 模块化固然有多个好处，然而一个页面需要引入多个js文件，就会出现以上这些问题。而这些问题可以通过模块化规范来解决，下面介绍开发中最流行的commonjs, AMD, ES6, CMD规范。</p><h2 id="二模块化规范"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#二模块化规范"><span class="icon icon-link"></span></a>二、模块化规范</h2><h3 id="1commonjs"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#1commonjs"><span class="icon icon-link"></span></a>1.CommonJS</h3><h4 id="1概述"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#1概述"><span class="icon icon-link"></span></a>(1)概述</h4><p>Node 应用由模块组成，采用 CommonJS 模块规范。每个文件就是一个模块，有自己的作用域。在一个文件里面定义的变量、函数、类，都是私有的，对其他文件不可见。<strong>在服务器端，模块的加载是运行时同步加载的；在浏览器端，模块需要提前编译打包处理。</strong></p><h4 id="2特点"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#2特点"><span class="icon icon-link"></span></a>(2)特点</h4><ul><li>所有代码都运行在模块作用域，不会污染全局作用域。</li><li>模块可以多次加载，但是只会在第一次加载时运行一次，然后运行结果就被缓存了，以后再加载，就直接读取缓存结果。要想让模块再次运行，必须清除缓存。</li><li>模块加载的顺序，按照其在代码中出现的顺序。</li></ul><h4 id="3基本语法"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#3基本语法"><span class="icon icon-link"></span></a>(3)基本语法</h4><ul><li>暴露模块：<code>module.exports = value</code>或<code>exports.xxx = value</code></li><li>引入模块：<code>require(xxx)</code>,如果是第三方模块，xxx为模块名；如果是自定义模块，xxx为模块文件路径</li></ul><p>此处我们有个疑问：<strong>CommonJS暴露的模块到底是什么?</strong> CommonJS规范规定，每个模块内部，module变量代表当前模块。这个变量是一个对象，它的exports属性（即module.exports）是对外的接口。<strong>加载某个模块，其实是加载该模块的module.exports属性</strong>。</p><div class="__dumi-default-code-block"><pre class="prism-code language-java"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">// example.js</span></div><div class="token-line"><span class="token plain">var x = 5;</span></div><div class="token-line"><span class="token plain">var addX = function (value) {</span></div><div class="token-line"><span class="token plain">  return value + x;</span></div><div class="token-line"><span class="token plain">};</span></div><div class="token-line"><span class="token plain">module.exports.x = x;</span></div><div class="token-line"><span class="token plain">module.exports.addX = addX;</span></div></pre></div><p>上面代码通过module.exports输出变量x和函数addX。</p><div class="__dumi-default-code-block"><pre class="prism-code language-arcade"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">var example = require(&#x27;./example.js&#x27;);//如果参数字符串以“./”开头，则表示加载的是一个位于相对路径</span></div><div class="token-line"><span class="token plain">console.log(example.x); // 5</span></div><div class="token-line"><span class="token plain">console.log(example.addX(1)); // 6</span></div></pre></div><p>require命令用于加载模块文件。<strong>require命令的基本功能是，读入并执行一个JavaScript文件，然后返回该模块的exports对象。如果没有发现指定模块，会报错</strong>。</p><h4 id="4模块的加载机制"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#4模块的加载机制"><span class="icon icon-link"></span></a>(4)模块的加载机制</h4><p><strong>CommonJS模块的加载机制是，输入的是被输出的值的拷贝。也就是说，一旦输出一个值，模块内部的变化就影响不到这个值</strong>。这点与ES6模块化有重大差异（下文会介绍），请看下面这个例子：</p><div class="__dumi-default-code-block"><pre class="prism-code language-java"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">// lib.js</span></div><div class="token-line"><span class="token plain">var counter = 3;</span></div><div class="token-line"><span class="token plain">function incCounter() {</span></div><div class="token-line"><span class="token plain">  counter++;</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain">module.exports = {</span></div><div class="token-line"><span class="token plain">  counter: counter,</span></div><div class="token-line"><span class="token plain">  incCounter: incCounter,</span></div><div class="token-line"><span class="token plain">};</span></div></pre></div><p>上面代码输出内部变量counter和改写这个变量的内部方法incCounter。</p><div class="__dumi-default-code-block"><pre class="prism-code language-arcade"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">// main.js</span></div><div class="token-line"><span class="token plain">var counter = require(&#x27;./lib&#x27;).counter;</span></div><div class="token-line"><span class="token plain">var incCounter = require(&#x27;./lib&#x27;).incCounter;</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">console.log(counter);  // 3</span></div><div class="token-line"><span class="token plain">incCounter();</span></div><div class="token-line"><span class="token plain">console.log(counter); // 3</span></div></pre></div><p>上面代码说明，counter输出以后，lib.js模块内部的变化就影响不到counter了。<strong>这是因为counter是一个原始类型的值，会被缓存。除非写成一个函数，才能得到内部变动后的值</strong>。</p><h4 id="5服务器端实现"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#5服务器端实现"><span class="icon icon-link"></span></a>(5)服务器端实现</h4><h4 id="下载安装nodejs"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#下载安装nodejs"><span class="icon icon-link"></span></a>①下载安装node.js</h4><h4 id="创建项目结构"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#创建项目结构"><span class="icon icon-link"></span></a>②创建项目结构</h4><p><strong>注意：用npm init 自动生成package.json时，package name(包名)不能有中文和大写</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-1c"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">|-modules</span></div><div class="token-line"><span class="token plain">  |-module1.js</span></div><div class="token-line"><span class="token plain">  |-module2.js</span></div><div class="token-line"><span class="token plain">  |-module3.js</span></div><div class="token-line"><span class="token plain">|-app.js</span></div><div class="token-line"><span class="token plain">|-package.json</span></div><div class="token-line"><span class="token plain">  {</span></div><div class="token-line"><span class="token plain">    &quot;name&quot;: &quot;commonJS-node&quot;,</span></div><div class="token-line"><span class="token plain">    &quot;version&quot;: &quot;1.0.0&quot;</span></div><div class="token-line"><span class="token plain">  }</span></div></pre></div><h4 id="下载第三方模块"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#下载第三方模块"><span class="icon icon-link"></span></a>③下载第三方模块</h4><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">npm install uniq --save // 用于数组去重</span></div></pre></div><h4 id="定义模块代码"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#定义模块代码"><span class="icon icon-link"></span></a>④定义模块代码</h4><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">//module1.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">module</span><span class="token punctuation">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token literal-property property">msg</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;module1&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">msg</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//module2.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">module</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;module2&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//module3.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">exports</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">foo</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;foo() module3&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">exports</span><span class="token punctuation">.</span><span class="token property-access">arr</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// app.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 引入第三方库，应该放置在最前面</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> uniq </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;uniq&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> module1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./modules/module1&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> module2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./modules/module2&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> module3 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./modules/module3&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">module1</span><span class="token punctuation">.</span><span class="token method function property-access">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token comment">//module1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">module2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token comment">//module2</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">module3</span><span class="token punctuation">.</span><span class="token method function property-access">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token comment">//foo() module3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">uniq</span><span class="token punctuation">(</span><span class="token plain">module3</span><span class="token punctuation">.</span><span class="token property-access">arr</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token comment">//[ 1, 2, 3 ]</span></div></pre></div><h4 id="通过node运行appjs"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#通过node运行appjs"><span class="icon icon-link"></span></a>⑤通过node运行app.js</h4><p>命令行输入<code>node app.js</code>，运行JS文件</p><h4 id="6浏览器端实现借助browserify"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#6浏览器端实现借助browserify"><span class="icon icon-link"></span></a>(6)浏览器端实现(借助Browserify)</h4><h4 id="创建项目结构-1"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#创建项目结构-1"><span class="icon icon-link"></span></a>①创建项目结构</h4><div class="__dumi-default-code-block"><pre class="prism-code language-1c"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">|-js</span></div><div class="token-line"><span class="token plain">  |-dist //打包生成文件的目录</span></div><div class="token-line"><span class="token plain">  |-src //源码所在的目录</span></div><div class="token-line"><span class="token plain">    |-module1.js</span></div><div class="token-line"><span class="token plain">    |-module2.js</span></div><div class="token-line"><span class="token plain">    |-module3.js</span></div><div class="token-line"><span class="token plain">    |-app.js //应用主源文件</span></div><div class="token-line"><span class="token plain">|-index.html //运行于浏览器上</span></div><div class="token-line"><span class="token plain">|-package.json</span></div><div class="token-line"><span class="token plain">  {</span></div><div class="token-line"><span class="token plain">    &quot;name&quot;: &quot;browserify-test&quot;,</span></div><div class="token-line"><span class="token plain">    &quot;version&quot;: &quot;1.0.0&quot;</span></div><div class="token-line"><span class="token plain">  }</span></div></pre></div><h4 id="下载browserify"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#下载browserify"><span class="icon icon-link"></span></a>②下载browserify</h4><ul><li>全局: npm install browserify -g</li><li>局部: npm install browserify --save-dev</li></ul><h4 id="定义模块代码同服务器端"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#定义模块代码同服务器端"><span class="icon icon-link"></span></a>③定义模块代码(同服务器端)</h4><p>注意：<code>index.html</code>文件要运行在浏览器上，需要借助browserify将<code>app.js</code>文件打包编译，如果直接在<code>index.html</code>引入<code>app.js</code>就会报错！</p><h4 id="打包处理js"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#打包处理js"><span class="icon icon-link"></span></a>④打包处理js</h4><p>根目录下运行<code>browserify js/src/app.js -o js/dist/bundle.js</code></p><h4 id="页面使用引入"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#页面使用引入"><span class="icon icon-link"></span></a>⑤页面使用引入</h4><p>在index.html文件中引入<code>&lt;script type=&quot;text/javascript&quot; src=&quot;js/dist/bundle.js&quot;&gt;&lt;/script&gt;</code></p><h3 id="2amd"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#2amd"><span class="icon icon-link"></span></a>2.AMD</h3><p>CommonJS规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。AMD规范则是非同步加载模块，允许指定回调函数。由于Node.js主要用于服务器编程，模块文件一般都已经存在于本地硬盘，所以加载起来比较快，不用考虑非同步加载的方式，所以CommonJS规范比较适用。但是，<strong>如果是浏览器环境，要从服务器端加载模块，这时就必须采用非同步模式，因此浏览器端一般采用AMD规范</strong>。此外AMD规范比CommonJS规范在浏览器端实现要来着早。</p><h4 id="1amd规范基本语法"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#1amd规范基本语法"><span class="icon icon-link"></span></a>(1)AMD规范基本语法</h4><p><strong>定义暴露模块</strong>:</p><div class="__dumi-default-code-block"><pre class="prism-code language-wren"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">//定义没有依赖的模块</span></div><div class="token-line"><span class="token plain">define(function(){</span></div><div class="token-line"><span class="token plain">   return 模块</span></div><div class="token-line"><span class="token plain">})</span></div><div class="token-line"><span class="token plain">//定义有依赖的模块</span></div><div class="token-line"><span class="token plain">define([&#x27;module1&#x27;, &#x27;module2&#x27;], function(m1, m2){</span></div><div class="token-line"><span class="token plain">   return 模块</span></div><div class="token-line"><span class="token plain">})</span></div></pre></div><p><strong>引入使用模块</strong>:</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;module1&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;module2&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">m1</span><span class="token parameter punctuation">,</span><span class="token parameter"> m2</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">   使用m1</span><span class="token operator">/</span><span class="token plain">m2</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></pre></div><h4 id="2未使用amd规范与使用requirejs"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#2未使用amd规范与使用requirejs"><span class="icon icon-link"></span></a>(2)未使用AMD规范与使用require.js</h4><p>通过比较两者的实现方法，来说明使用AMD规范的好处。</p><ul><li>未使用AMD规范</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// dataService.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter dom variable">window</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> msg </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;www.baidu.com&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">getMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> msg</span><span class="token punctuation">.</span><span class="token method function property-access">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">dataService</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain">getMsg</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span><span class="token comment">// alerter.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter dom variable">window</span><span class="token parameter punctuation">,</span><span class="token parameter"> dataService</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;Tom&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">showMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token plain">dataService</span><span class="token punctuation">.</span><span class="token method function property-access">getMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&#x27;, &#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> name</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">alerter</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain">showMsg</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">,</span><span class="token plain"> dataService</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// main.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">alerter</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  alerter</span><span class="token punctuation">.</span><span class="token method function property-access">showMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token plain">alerter</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// index.html文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token plain">h1</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Modular</span><span class="token plain"> </span><span class="token maybe-class-name">Demo</span><span class="token plain"> </span><span class="token number">1</span><span class="token operator">:</span><span class="token plain"> 未使用</span><span class="token constant">AMD</span><span class="token punctuation">(</span><span class="token plain">require</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">h1</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token plain">script type</span><span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token plain"> src</span><span class="token operator">=</span><span class="token string">&quot;js/modules/dataService.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">script</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token plain">script type</span><span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token plain"> src</span><span class="token operator">=</span><span class="token string">&quot;js/modules/alerter.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">script</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token plain">script type</span><span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token plain"> src</span><span class="token operator">=</span><span class="token string">&quot;js/main.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">script</span><span class="token operator">&gt;</span></div></pre></div><p>最后得到如下结果：<img src="http://wuxiao-tech-doc.oss-cn-hangzhou.aliyuncs.com/2022-02-20-020727.png" alt="img"/></p><p>这种方式缺点很明显：<strong>首先会发送多个请求，其次引入的js文件顺序不能搞错，否则会报错！</strong></p><ul><li>使用require.js</li></ul><p>RequireJS是一个工具库，主要用于客户端的模块管理。它的模块管理遵守AMD规范，<strong>RequireJS的基本思想是，通过define方法，将代码定义为模块；通过require方法，实现代码的模块加载</strong>。 接下来介绍AMD规范在浏览器实现的步骤：</p><h4 id="下载requirejs-并引入"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#下载requirejs-并引入"><span class="icon icon-link"></span></a>①下载require.js, 并引入</h4><ul><li>官网: <code>http://www.requirejs.cn/</code></li><li>github : <code>https://github.com/requirejs/requirejs</code></li></ul><p>然后将require.js导入项目: js/libs/require.js</p><h4 id="创建项目结构-2"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#创建项目结构-2"><span class="icon icon-link"></span></a>②创建项目结构</h4><div class="__dumi-default-code-block"><pre class="prism-code language-1c"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">|-js</span></div><div class="token-line"><span class="token plain">  |-libs</span></div><div class="token-line"><span class="token plain">    |-require.js</span></div><div class="token-line"><span class="token plain">  |-modules</span></div><div class="token-line"><span class="token plain">    |-alerter.js</span></div><div class="token-line"><span class="token plain">    |-dataService.js</span></div><div class="token-line"><span class="token plain">  |-main.js</span></div><div class="token-line"><span class="token plain">|-index.html</span></div></pre></div><h4 id="定义requirejs的模块代码"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#定义requirejs的模块代码"><span class="icon icon-link"></span></a>③定义require.js的模块代码</h4><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// dataService.js文件 </span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 定义没有依赖的模块</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> msg </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;www.baidu.com&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">getMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> msg</span><span class="token punctuation">.</span><span class="token method function property-access">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> getMsg </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token comment">// 暴露模块</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//alerter.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 定义有依赖的模块</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;dataService&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">dataService</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;Tom&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">showMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token plain">dataService</span><span class="token punctuation">.</span><span class="token method function property-access">getMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&#x27;, &#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> name</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 暴露模块</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> showMsg </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// main.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  require</span><span class="token punctuation">.</span><span class="token method function property-access">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token literal-property property">baseUrl</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;js/&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">//基本路径 出发点在根目录下</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token literal-property property">paths</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">//映射: 模块标识名: 路径</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token literal-property property">alerter</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;./modules/alerter&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">//此处不能写成alerter.js,会报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token literal-property property">dataService</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;./modules/dataService&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;alerter&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">alerter</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    alerter</span><span class="token punctuation">.</span><span class="token method function property-access">showMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// index.html文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span><span class="token plain"> html</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token plain">html</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token plain">head</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token plain">title</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Modular</span><span class="token plain"> </span><span class="token maybe-class-name">Demo</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">title</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">head</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token plain">body</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token plain"> 引入require</span><span class="token punctuation">.</span><span class="token property-access">js并指定js主文件的入口</span><span class="token plain"> </span><span class="token operator">--</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token plain">script data</span><span class="token operator">-</span><span class="token plain">main</span><span class="token operator">=</span><span class="token string">&quot;js/main&quot;</span><span class="token plain"> src</span><span class="token operator">=</span><span class="token string">&quot;js/libs/require.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">script</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">body</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">html</span><span class="token operator">&gt;</span></div></pre></div><h4 id="页面引入requirejs模块"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#页面引入requirejs模块"><span class="icon icon-link"></span></a>④页面引入require.js模块:</h4><p>在index.html引入 <code>&lt;script data-main=&quot;js/main&quot; src=&quot;js/libs/require.js&quot;&gt;&lt;/script&gt;</code></p><p>**此外在项目中如何引入第三方库？**只需在上面代码的基础稍作修改：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// alerter.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;dataService&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;jquery&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">dataService</span><span class="token parameter punctuation">,</span><span class="token parameter"> $</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;Tom&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">showMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token plain">dataService</span><span class="token punctuation">.</span><span class="token method function property-access">getMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&#x27;, &#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> name</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#x27;body&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">css</span><span class="token punctuation">(</span><span class="token string">&#x27;background&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;green&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 暴露模块</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> showMsg </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// main.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  require</span><span class="token punctuation">.</span><span class="token method function property-access">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token literal-property property">baseUrl</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;js/&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">//基本路径 出发点在根目录下</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token literal-property property">paths</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">//自定义模块</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token literal-property property">alerter</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;./modules/alerter&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">//此处不能写成alerter.js,会报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token literal-property property">dataService</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;./modules/dataService&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// 第三方库模块</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token literal-property property">jquery</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;./libs/jquery-1.10.1&#x27;</span><span class="token plain"> </span><span class="token comment">//注意：写成jQuery会报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;alerter&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">alerter</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    alerter</span><span class="token punctuation">.</span><span class="token method function property-access">showMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span></div></pre></div><p>上例是在alerter.js文件中引入jQuery第三方库，main.js文件也要有相应的路径配置。<strong>小结</strong>：通过两者的比较，可以得出<strong>AMD模块定义的方法非常清晰，不会污染全局环境，能够清楚地显示依赖关系</strong>。AMD模式可以用于浏览器环境，并且允许非同步加载模块，也可以根据需要动态加载模块。</p><h3 id="3cmd"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#3cmd"><span class="icon icon-link"></span></a>3.CMD</h3><p>CMD规范专门用于浏览器端，模块的加载是异步的，模块使用时才会加载执行。CMD规范整合了CommonJS和AMD规范的特点。在 Sea.js 中，所有 JavaScript 模块都遵循 CMD模块定义规范。</p><h4 id="1cmd规范基本语法"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#1cmd规范基本语法"><span class="icon icon-link"></span></a>(1)CMD规范基本语法</h4><p><strong>定义暴露模块：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">//定义没有依赖的模块</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require</span><span class="token parameter punctuation">,</span><span class="token parameter"> exports</span><span class="token parameter punctuation">,</span><span class="token parameter"> module</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  exports</span><span class="token punctuation">.</span><span class="token property-access">xxx</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> value</span></div><div class="token-line"><span class="token plain">  module</span><span class="token punctuation">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> value</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//定义有依赖的模块</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require</span><span class="token parameter punctuation">,</span><span class="token parameter"> exports</span><span class="token parameter punctuation">,</span><span class="token parameter"> module</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//引入依赖模块(同步)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> module2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./module2&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//引入依赖模块(异步)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    require</span><span class="token punctuation">.</span><span class="token method function property-access">async</span><span class="token punctuation">(</span><span class="token string">&#x27;./module3&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">m3</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//暴露模块</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  exports</span><span class="token punctuation">.</span><span class="token property-access">xxx</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> value</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></pre></div><p><strong>引入使用模块：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-stylus"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token func function">define</span><span class="token func punctuation">(</span><span class="token func">function </span><span class="token func punctuation">(</span><span class="token func">require</span><span class="token func punctuation">)</span><span class="token func"> </span><span class="token func punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property-declaration property">var</span><span class="token property-declaration"> m1 </span><span class="token property-declaration operator">=</span><span class="token property-declaration"> require</span><span class="token property-declaration punctuation">(</span><span class="token property-declaration string">&#x27;./module1&#x27;</span><span class="token property-declaration punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property-declaration property">var</span><span class="token property-declaration"> m4 </span><span class="token property-declaration operator">=</span><span class="token property-declaration"> require</span><span class="token property-declaration punctuation">(</span><span class="token property-declaration string">&#x27;./module4&#x27;</span><span class="token property-declaration punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  m1</span><span class="token punctuation">.</span><span class="token func function">show</span><span class="token func punctuation">(</span><span class="token func punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  m4</span><span class="token punctuation">.</span><span class="token func function">show</span><span class="token func punctuation">(</span><span class="token func punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></pre></div><h4 id="2seajs简单使用教程"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#2seajs简单使用教程"><span class="icon icon-link"></span></a>(2)sea.js简单使用教程</h4><h4 id="下载seajs-并引入"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#下载seajs-并引入"><span class="icon icon-link"></span></a>①下载sea.js, 并引入</h4><ul><li>官网: <a target="_blank" rel="noopener noreferrer" href="https://link.segmentfault.com/?enc=%2BR74fjskkSz6%2BT2tVBThFw%3D%3D.lZCg7DRGEFECiC0ywQ6OyrqVfyM4CAwiCb0TIK8fMDc%3D">http://seajs.org/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li>github : <a target="_blank" rel="noopener noreferrer" href="https://link.segmentfault.com/?enc=MPqMF4bsKQyfpCP1ORN2Sg%3D%3D.xY3l%2FH6NmvRZ4vAm6DRRb4XS9Nw3pCafIzIAm3vAEcI%3D">https://github.com/seajs/seajs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><p>然后将sea.js导入项目: js/libs/sea.js</p><h4 id="创建项目结构-3"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#创建项目结构-3"><span class="icon icon-link"></span></a>②创建项目结构</h4><div class="__dumi-default-code-block"><pre class="prism-code language-1c"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">|-js</span></div><div class="token-line"><span class="token plain">  |-libs</span></div><div class="token-line"><span class="token plain">    |-sea.js</span></div><div class="token-line"><span class="token plain">  |-modules</span></div><div class="token-line"><span class="token plain">    |-module1.js</span></div><div class="token-line"><span class="token plain">    |-module2.js</span></div><div class="token-line"><span class="token plain">    |-module3.js</span></div><div class="token-line"><span class="token plain">    |-module4.js</span></div><div class="token-line"><span class="token plain">    |-main.js</span></div><div class="token-line"><span class="token plain">|-index.html</span></div></pre></div><h4 id="定义seajs的模块代码"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#定义seajs的模块代码"><span class="icon icon-link"></span></a>③定义sea.js的模块代码</h4><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// module1.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">require</span><span class="token parameter punctuation">,</span><span class="token parameter"> exports</span><span class="token parameter punctuation">,</span><span class="token parameter"> module</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//内部变量数据</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;atguigu.com&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//内部函数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;module1 show() &#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> data</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//向外暴露</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  exports</span><span class="token punctuation">.</span><span class="token property-access">show</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> show</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// module2.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">require</span><span class="token parameter punctuation">,</span><span class="token parameter"> exports</span><span class="token parameter punctuation">,</span><span class="token parameter"> module</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  module</span><span class="token punctuation">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token literal-property property">msg</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;I Will Back&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// module3.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require</span><span class="token parameter punctuation">,</span><span class="token parameter"> exports</span><span class="token parameter punctuation">,</span><span class="token parameter"> module</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token constant">API_KEY</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;abc123&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  exports</span><span class="token punctuation">.</span><span class="token constant">API_KEY</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant">API_KEY</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// module4.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">require</span><span class="token parameter punctuation">,</span><span class="token parameter"> exports</span><span class="token parameter punctuation">,</span><span class="token parameter"> module</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//引入依赖模块(同步)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> module2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./module2&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;module4 show() &#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> module2</span><span class="token punctuation">.</span><span class="token property-access">msg</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  exports</span><span class="token punctuation">.</span><span class="token property-access">show</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> show</span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//引入依赖模块(异步)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  require</span><span class="token punctuation">.</span><span class="token method function property-access">async</span><span class="token punctuation">(</span><span class="token string">&#x27;./module3&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">m3</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;异步引入依赖模块3  &#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> m3</span><span class="token punctuation">.</span><span class="token constant">API_KEY</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// main.js文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">require</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> m1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./module1&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> m4 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./module4&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  m1</span><span class="token punctuation">.</span><span class="token method function property-access">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  m4</span><span class="token punctuation">.</span><span class="token method function property-access">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></pre></div><h4 id="在indexhtml中引入"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#在indexhtml中引入"><span class="icon icon-link"></span></a>④在index.html中引入</h4><div class="__dumi-default-code-block"><pre class="prism-code language-xml"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">src</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">js/libs/sea.js</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  seajs.use(&#x27;./js/modules/main&#x27;)</span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span></div></pre></div><p>最后得到结果如下：</p><p><img src="http://wuxiao-tech-doc.oss-cn-hangzhou.aliyuncs.com/2022-02-20-020718.png" alt="img"/></p><h3 id="4es6模块化"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#4es6模块化"><span class="icon icon-link"></span></a>4.ES6模块化</h3><p>ES6 模块的设计思想是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。CommonJS 和 AMD 模块，都只能在运行时确定这些东西。比如，CommonJS 模块就是对象，输入时必须查找对象属性。</p><h4 id="1es6模块化语法"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#1es6模块化语法"><span class="icon icon-link"></span></a>(1)ES6模块化语法</h4><p>export命令用于规定模块的对外接口，import命令用于输入其他模块提供的功能。</p><div class="__dumi-default-code-block"><pre class="prism-code language-csharp"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">/** 定义模块 math.js **/</span></div><div class="token-line"><span class="token plain">var basicNum = 0;</span></div><div class="token-line"><span class="token plain">var add = function (a, b) {</span></div><div class="token-line"><span class="token plain">    return a + b;</span></div><div class="token-line"><span class="token plain">};</span></div><div class="token-line"><span class="token plain">export { basicNum, add };</span></div><div class="token-line"><span class="token plain">/** 引用模块 **/</span></div><div class="token-line"><span class="token plain">import { basicNum, add } from &#x27;./math&#x27;;</span></div><div class="token-line"><span class="token plain">function test(ele) {</span></div><div class="token-line"><span class="token plain">    ele.textContent = add(99 + basicNum);</span></div><div class="token-line"><span class="token plain">}</span></div></pre></div><p>如上例所示，使用import命令的时候，用户需要知道所要加载的变量名或函数名，否则无法加载。为了给用户提供方便，让他们不用阅读文档就能加载模块，就要用到export default命令，为模块指定默认输出。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// export-default.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword module">default</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// import-default.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module">import</span><span class="token plain"> </span><span class="token imports">customName</span><span class="token plain"> </span><span class="token keyword module">from</span><span class="token plain"> </span><span class="token string">&#x27;./export-default&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">customName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &#x27;foo&#x27;</span></div></pre></div><p>模块默认输出, 其他模块加载该模块时，import命令可以为该匿名函数指定任意名字。</p><h4 id="2es6-模块与-commonjs-模块的差异"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#2es6-模块与-commonjs-模块的差异"><span class="icon icon-link"></span></a>(2)ES6 模块与 CommonJS 模块的差异</h4><p>它们有两个重大差异：</p><p><strong>① CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用</strong>。</p><p><strong>② CommonJS 模块是运行时加载，ES6 模块是编译时输出接口</strong>。</p><p>第二个差异是因为 CommonJS 加载的是一个对象（即module.exports属性），该对象只有在脚本运行完才会生成。而 ES6 模块不是对象，它的对外接口只是一种静态定义，在代码静态解析阶段就会生成。</p><p>下面重点解释第一个差异，我们还是举上面那个CommonJS模块的加载机制例子:</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// lib.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword">let</span><span class="token plain"> counter </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">incCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  counter</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// main.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> counter</span><span class="token imports punctuation">,</span><span class="token imports"> incCounter </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword module">from</span><span class="token plain"> </span><span class="token string">&#x27;./lib&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">counter</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">incCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">counter</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 4</span></div></pre></div><p>ES6 模块的运行机制与 CommonJS 不一样。<strong>ES6 模块是动态引用，并且不会缓存值，模块里面的变量绑定其所在的模块</strong>。</p><h4 id="3-es6-babel-browserify使用教程"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#3-es6-babel-browserify使用教程"><span class="icon icon-link"></span></a>(3) ES6-Babel-Browserify使用教程</h4><p>简单来说就一句话：<strong>使用Babel将ES6编译为ES5代码，使用Browserify编译打包js</strong>。</p><h4 id="定义packagejson文件"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#定义packagejson文件"><span class="icon icon-link"></span></a>①定义package.json文件</h4><div class="__dumi-default-code-block"><pre class="prism-code language-json"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">   </span><span class="token property">&quot;name&quot;</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;es6-babel-browserify&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">   </span><span class="token property">&quot;version&quot;</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;1.0.0&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span><span class="token punctuation">}</span></div></pre></div><h4 id="安装babel-cli-babel-preset-es2015和browserify"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#安装babel-cli-babel-preset-es2015和browserify"><span class="icon icon-link"></span></a>②安装babel-cli, babel-preset-es2015和browserify</h4><ul><li><p>npm install babel-cli browserify -g</p></li><li><p>npm install babel-preset-es2015 --save-dev</p></li><li><p>preset 预设(将es6转换成es5的所有插件打包)</p></li></ul><h4 id="定义babelrc文件"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#定义babelrc文件"><span class="icon icon-link"></span></a>③定义.babelrc文件</h4><div class="__dumi-default-code-block"><pre class="prism-code language-prolog"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">{</span></div><div class="token-line"><span class="token plain">    &quot;presets&quot;: [&quot;es2015&quot;]</span></div><div class="token-line"><span class="token plain">  }</span></div></pre></div><h4 id="定义模块代码-1"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#定义模块代码-1"><span class="icon icon-link"></span></a>④定义模块代码</h4><div class="__dumi-default-code-block"><pre class="prism-code language-arcade"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">//module1.js文件</span></div><div class="token-line"><span class="token plain">// 分别暴露</span></div><div class="token-line"><span class="token plain">export function foo() {</span></div><div class="token-line"><span class="token plain">  console.log(&#x27;foo() module1&#x27;)</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain">export function bar() {</span></div><div class="token-line"><span class="token plain">  console.log(&#x27;bar() module1&#x27;)</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain">//module2.js文件</span></div><div class="token-line"><span class="token plain">// 统一暴露</span></div><div class="token-line"><span class="token plain">function fun1() {</span></div><div class="token-line"><span class="token plain">  console.log(&#x27;fun1() module2&#x27;)</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain">function fun2() {</span></div><div class="token-line"><span class="token plain">  console.log(&#x27;fun2() module2&#x27;)</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain">export { fun1, fun2 }</span></div><div class="token-line"><span class="token plain">//module3.js文件</span></div><div class="token-line"><span class="token plain">// 默认暴露 可以暴露任意数据类项，暴露什么数据，接收到就是什么数据</span></div><div class="token-line"><span class="token plain">export default () =&gt; {</span></div><div class="token-line"><span class="token plain">  console.log(&#x27;默认暴露&#x27;)</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain">// app.js文件</span></div><div class="token-line"><span class="token plain">import { foo, bar } from &#x27;./module1&#x27;</span></div><div class="token-line"><span class="token plain">import { fun1, fun2 } from &#x27;./module2&#x27;</span></div><div class="token-line"><span class="token plain">import module3 from &#x27;./module3&#x27;</span></div><div class="token-line"><span class="token plain">foo()</span></div><div class="token-line"><span class="token plain">bar()</span></div><div class="token-line"><span class="token plain">fun1()</span></div><div class="token-line"><span class="token plain">fun2()</span></div><div class="token-line"><span class="token plain">module3()</span></div></pre></div><h4 id="-编译并在indexhtml中引入"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#-编译并在indexhtml中引入"><span class="icon icon-link"></span></a>⑤ 编译并在index.html中引入</h4><ul><li>使用Babel将ES6编译为ES5代码(但包含CommonJS语法) : <code>babel js/src -d js/lib</code></li><li>使用Browserify编译js : <code>browserify js/lib/app.js -o js/lib/bundle.js</code></li></ul><p>然后在index.html文件中引入</p><div class="__dumi-default-code-block"><pre class="prism-code language-xml"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">src</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">js/lib/bundle.js</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span></div></pre></div><p>最后得到如下结果：</p><p><img src="http://wuxiao-tech-doc.oss-cn-hangzhou.aliyuncs.com/2022-02-20-020711.png" alt="img"/></p><p><strong>此外第三方库(以jQuery为例)如何引入呢</strong>？ 首先安装依赖<code>npm install jquery@1</code>然后在app.js文件中引入</p><div class="__dumi-default-code-block"><pre class="prism-code language-stylus"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token selector comment">//app.js文件</span><span class="token selector"></span></div><div class="token-line"><span class="token selector">import </span><span class="token selector interpolation variable delimiter punctuation">{</span><span class="token selector interpolation variable"> foo</span><span class="token selector interpolation variable punctuation">,</span><span class="token selector interpolation variable"> bar </span><span class="token selector interpolation variable delimiter punctuation">}</span><span class="token selector"> from &#x27;./module1&#x27;</span></div><div class="token-line"><span class="token selector">import </span><span class="token selector punctuation">{</span><span class="token plain"> fun1, fun2 </span><span class="token punctuation">}</span><span class="token plain"> from </span><span class="token string">&#x27;./module2&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token property-declaration property">import</span><span class="token property-declaration"> module3 from </span><span class="token property-declaration string">&#x27;./module3&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token property-declaration property">import</span><span class="token property-declaration"> $ from </span><span class="token property-declaration string">&#x27;jquery&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token func function">foo</span><span class="token func punctuation">(</span><span class="token func punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token func function">bar</span><span class="token func punctuation">(</span><span class="token func punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token func function">fun1</span><span class="token func punctuation">(</span><span class="token func punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token func function">fun2</span><span class="token func punctuation">(</span><span class="token func punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token func function">module3</span><span class="token func punctuation">(</span><span class="token func punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$</span><span class="token punctuation">(</span><span class="token string">&#x27;body&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token func function">css</span><span class="token func punctuation">(</span><span class="token func string">&#x27;background&#x27;</span><span class="token func punctuation">,</span><span class="token func"> </span><span class="token func string">&#x27;green&#x27;</span><span class="token func punctuation">)</span></div></pre></div><h2 id="三总结"><a aria-hidden="true" tabindex="-1" href="/js/basic/090#三总结"><span class="icon icon-link"></span></a>三、总结</h2><ul><li>CommonJS规范主要用于服务端编程，加载模块是同步的，这并不适合在浏览器环境，因为同步意味着阻塞加载，浏览器资源是异步加载的，因此有了AMD CMD解决方案。</li><li>AMD规范在浏览器环境中异步加载模块，而且可以并行加载多个模块。不过，AMD规范开发成本高，代码的阅读和书写比较困难，模块定义方式的语义不顺畅。</li><li>CMD规范与AMD规范很相似，都用于浏览器编程，依赖就近，延迟执行，可以很容易在Node.js中运行。不过，依赖SPM 打包，模块的加载逻辑偏重</li><li><strong>ES6 在语言标准的层面上，实现了模块功能，而且实现得相当简单，完全可以取代 CommonJS 和 AMD 规范，成为浏览器和服务器通用的模块解决方案</strong>。</li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/weisuoke/fe-interview-guidebook/edit/master/docs/js/basic/090.module.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last update: ">3/6/2022 15:43:57</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/umi.js"></script>
    <script src="/docs__js__basic__090.module.md.js"></script>
  </body>
</html>
