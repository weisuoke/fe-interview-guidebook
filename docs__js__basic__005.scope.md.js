(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36],{xJsg:function(e,n,a){"use strict";a.r(n);var t=a("q1tI"),c=a.n(t),l=a("dEAq"),o=a("H1Ra"),r=c.a.memo((e=>{e.demos;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"markdown"},c.a.createElement("h1",{id:"\u4f5c\u7528\u57df\u94fe"},c.a.createElement(l["AnchorLink"],{to:"#\u4f5c\u7528\u57df\u94fe","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u4f5c\u7528\u57df\u94fe"),c.a.createElement("h2",{id:"\u524d\u8a00"},c.a.createElement(l["AnchorLink"],{to:"#\u524d\u8a00","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u524d\u8a00"),c.a.createElement("p",null,"\u5728",c.a.createElement(l["Link"],{to:"https://github.com/mqyqingfeng/Blog/issues/4"},"\u300aJavaScript\u6df1\u5165\u4e4b\u6267\u884c\u4e0a\u4e0b\u6587\u6808\u300b"),"\u4e2d\u8bb2\u5230\uff0c\u5f53JavaScript\u4ee3\u7801\u6267\u884c\u4e00\u6bb5\u53ef\u6267\u884c\u4ee3\u7801(executable code)\u65f6\uff0c\u4f1a\u521b\u5efa\u5bf9\u5e94\u7684\u6267\u884c\u4e0a\u4e0b\u6587(execution context)\u3002"),c.a.createElement("p",null,"\u5bf9\u4e8e\u6bcf\u4e2a\u6267\u884c\u4e0a\u4e0b\u6587\uff0c\u90fd\u6709\u4e09\u4e2a\u91cd\u8981\u5c5e\u6027\uff1a"),c.a.createElement("ul",null,c.a.createElement("li",null,"\u53d8\u91cf\u5bf9\u8c61(Variable object\uff0cVO)"),c.a.createElement("li",null,"\u4f5c\u7528\u57df\u94fe(Scope chain)"),c.a.createElement("li",null,"this")),c.a.createElement("p",null,"\u4eca\u5929\u91cd\u70b9\u8bb2\u8bb2\u4f5c\u7528\u57df\u94fe\u3002"),c.a.createElement("h2",{id:"\u4f5c\u7528\u57df\u94fe-1"},c.a.createElement(l["AnchorLink"],{to:"#\u4f5c\u7528\u57df\u94fe-1","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u4f5c\u7528\u57df\u94fe"),c.a.createElement("p",null,"\u5728",c.a.createElement(l["Link"],{to:"https://github.com/mqyqingfeng/Blog/issues/5"},"\u300aJavaScript\u6df1\u5165\u4e4b\u53d8\u91cf\u5bf9\u8c61\u300b"),"\u4e2d\u8bb2\u5230\uff0c\u5f53\u67e5\u627e\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u4f1a\u5148\u4ece\u5f53\u524d\u4e0a\u4e0b\u6587\u7684\u53d8\u91cf\u5bf9\u8c61\u4e2d\u67e5\u627e\uff0c\u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u5c31\u4f1a\u4ece\u7236\u7ea7(\u8bcd\u6cd5\u5c42\u9762\u4e0a\u7684\u7236\u7ea7)\u6267\u884c\u4e0a\u4e0b\u6587\u7684\u53d8\u91cf\u5bf9\u8c61\u4e2d\u67e5\u627e\uff0c\u4e00\u76f4\u627e\u5230\u5168\u5c40\u4e0a\u4e0b\u6587\u7684\u53d8\u91cf\u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u5168\u5c40\u5bf9\u8c61\u3002\u8fd9\u6837\u7531\u591a\u4e2a\u6267\u884c\u4e0a\u4e0b\u6587\u7684\u53d8\u91cf\u5bf9\u8c61\u6784\u6210\u7684\u94fe\u8868\u5c31\u53eb\u505a\u4f5c\u7528\u57df\u94fe\u3002"),c.a.createElement("p",null,"\u4e0b\u9762\uff0c\u8ba9\u6211\u4eec\u4ee5\u4e00\u4e2a\u51fd\u6570\u7684\u521b\u5efa\u548c\u6fc0\u6d3b\u4e24\u4e2a\u65f6\u671f\u6765\u8bb2\u89e3\u4f5c\u7528\u57df\u94fe\u662f\u5982\u4f55\u521b\u5efa\u548c\u53d8\u5316\u7684\u3002"),c.a.createElement("h2",{id:"\u51fd\u6570\u521b\u5efa"},c.a.createElement(l["AnchorLink"],{to:"#\u51fd\u6570\u521b\u5efa","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u51fd\u6570\u521b\u5efa"),c.a.createElement("p",null,"\u5728",c.a.createElement(l["Link"],{to:"https://github.com/mqyqingfeng/Blog/issues/3"},"\u300aJavaScript\u6df1\u5165\u4e4b\u8bcd\u6cd5\u4f5c\u7528\u57df\u548c\u52a8\u6001\u4f5c\u7528\u57df\u300b"),"\u4e2d\u8bb2\u5230\uff0c\u51fd\u6570\u7684\u4f5c\u7528\u57df\u5728\u51fd\u6570\u5b9a\u4e49\u7684\u65f6\u5019\u5c31\u51b3\u5b9a\u4e86\u3002"),c.a.createElement("p",null,"\u8fd9\u662f\u56e0\u4e3a\u51fd\u6570\u6709\u4e00\u4e2a\u5185\u90e8\u5c5e\u6027 [[scope]]\uff0c\u5f53\u51fd\u6570\u521b\u5efa\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u4fdd\u5b58\u6240\u6709\u7236\u53d8\u91cf\u5bf9\u8c61\u5230\u5176\u4e2d\uff0c\u4f60\u53ef\u4ee5\u7406\u89e3 [[scope]] \u5c31\u662f\u6240\u6709\u7236\u53d8\u91cf\u5bf9\u8c61\u7684\u5c42\u7ea7\u94fe\uff0c\u4f46\u662f\u6ce8\u610f\uff1a[[scope]] \u5e76\u4e0d\u4ee3\u8868\u5b8c\u6574\u7684\u4f5c\u7528\u57df\u94fe\uff01"),c.a.createElement("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff1a"),c.a.createElement(o["a"],{code:"function foo() {\n    function bar() {\n        ...\n    }\n}",lang:"js"}),c.a.createElement("p",null,"\u51fd\u6570\u521b\u5efa\u65f6\uff0c\u5404\u81ea\u7684[[scope]]\u4e3a\uff1a"),c.a.createElement(o["a"],{code:"foo.[[scope]] = [\n  globalContext.VO\n];\n\nbar.[[scope]] = [\n    fooContext.AO,\n    globalContext.VO\n];",lang:"js"}),c.a.createElement("h2",{id:"\u51fd\u6570\u6fc0\u6d3b"},c.a.createElement(l["AnchorLink"],{to:"#\u51fd\u6570\u6fc0\u6d3b","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u51fd\u6570\u6fc0\u6d3b"),c.a.createElement("p",null,"\u5f53\u51fd\u6570\u6fc0\u6d3b\u65f6\uff0c\u8fdb\u5165\u51fd\u6570\u4e0a\u4e0b\u6587\uff0c\u521b\u5efa VO/AO \u540e\uff0c\u5c31\u4f1a\u5c06\u6d3b\u52a8\u5bf9\u8c61\u6dfb\u52a0\u5230\u4f5c\u7528\u94fe\u7684\u524d\u7aef\u3002"),c.a.createElement("p",null,"\u8fd9\u65f6\u5019\u6267\u884c\u4e0a\u4e0b\u6587\u7684\u4f5c\u7528\u57df\u94fe\uff0c\u6211\u4eec\u547d\u540d\u4e3a Scope\uff1a"),c.a.createElement(o["a"],{code:"Scope = [AO].concat([[Scope]]);",lang:"js"}),c.a.createElement("p",null,"\u81f3\u6b64\uff0c\u4f5c\u7528\u57df\u94fe\u521b\u5efa\u5b8c\u6bd5\u3002"),c.a.createElement("h2",{id:"\u634b\u4e00\u634b"},c.a.createElement(l["AnchorLink"],{to:"#\u634b\u4e00\u634b","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u634b\u4e00\u634b"),c.a.createElement("p",null,"\u4ee5\u4e0b\u9762\u7684\u4f8b\u5b50\u4e3a\u4f8b\uff0c\u7ed3\u5408\u7740\u4e4b\u524d\u8bb2\u7684\u53d8\u91cf\u5bf9\u8c61\u548c\u6267\u884c\u4e0a\u4e0b\u6587\u6808\uff0c\u6211\u4eec\u6765\u603b\u7ed3\u4e00\u4e0b\u51fd\u6570\u6267\u884c\u4e0a\u4e0b\u6587\u4e2d\u4f5c\u7528\u57df\u94fe\u548c\u53d8\u91cf\u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b\uff1a"),c.a.createElement(o["a"],{code:"var scope = \"global scope\";\nfunction checkscope(){\n    var scope2 = 'local scope';\n    return scope2;\n}\ncheckscope();",lang:"js"}),c.a.createElement("p",null,"\u6267\u884c\u8fc7\u7a0b\u5982\u4e0b\uff1a"),c.a.createElement("p",null,"1.checkscope \u51fd\u6570\u88ab\u521b\u5efa\uff0c\u4fdd\u5b58\u4f5c\u7528\u57df\u94fe\u5230 \u5185\u90e8\u5c5e\u6027[[scope]]"),c.a.createElement(o["a"],{code:"checkscope.[[scope]] = [\n    globalContext.VO\n];",lang:"js"}),c.a.createElement("p",null,"2.\u6267\u884c checkscope \u51fd\u6570\uff0c\u521b\u5efa checkscope \u51fd\u6570\u6267\u884c\u4e0a\u4e0b\u6587\uff0ccheckscope \u51fd\u6570\u6267\u884c\u4e0a\u4e0b\u6587\u88ab\u538b\u5165\u6267\u884c\u4e0a\u4e0b\u6587\u6808"),c.a.createElement(o["a"],{code:"ECStack = [\n    checkscopeContext,\n    globalContext\n];",lang:"js"}),c.a.createElement("p",null,"3.checkscope \u51fd\u6570\u5e76\u4e0d\u7acb\u523b\u6267\u884c\uff0c\u5f00\u59cb\u505a\u51c6\u5907\u5de5\u4f5c\uff0c\u7b2c\u4e00\u6b65\uff1a\u590d\u5236\u51fd\u6570[[scope]]\u5c5e\u6027\u521b\u5efa\u4f5c\u7528\u57df\u94fe"),c.a.createElement(o["a"],{code:"checkscopeContext = {\n    Scope: checkscope.[[scope]],\n}j",lang:"js"}),c.a.createElement("p",null,"4.\u7b2c\u4e8c\u6b65\uff1a\u7528 arguments \u521b\u5efa\u6d3b\u52a8\u5bf9\u8c61\uff0c\u968f\u540e\u521d\u59cb\u5316\u6d3b\u52a8\u5bf9\u8c61\uff0c\u52a0\u5165\u5f62\u53c2\u3001\u51fd\u6570\u58f0\u660e\u3001\u53d8\u91cf\u58f0\u660e"),c.a.createElement(o["a"],{code:"checkscopeContext = {\n    AO: {\n        arguments: {\n            length: 0\n        },\n        scope2: undefined\n    }\uff0c\n    Scope: checkscope.[[scope]],\n}",lang:"js"}),c.a.createElement("p",null,"5.\u7b2c\u4e09\u6b65\uff1a\u5c06\u6d3b\u52a8\u5bf9\u8c61\u538b\u5165 checkscope \u4f5c\u7528\u57df\u94fe\u9876\u7aef"),c.a.createElement(o["a"],{code:"checkscopeContext = {\n    AO: {\n        arguments: {\n            length: 0\n        },\n        scope2: undefined\n    },\n    Scope: [AO, [[Scope]]]\n}",lang:"js"}),c.a.createElement("p",null,"6.\u51c6\u5907\u5de5\u4f5c\u505a\u5b8c\uff0c\u5f00\u59cb\u6267\u884c\u51fd\u6570\uff0c\u968f\u7740\u51fd\u6570\u7684\u6267\u884c\uff0c\u4fee\u6539 AO \u7684\u5c5e\u6027\u503c"),c.a.createElement(o["a"],{code:"checkscopeContext = {\n    AO: {\n        arguments: {\n            length: 0\n        },\n        scope2: 'local scope'\n    },\n    Scope: [AO, [[Scope]]]\n}",lang:"js"}),c.a.createElement("p",null,"7.\u67e5\u627e\u5230 scope2 \u7684\u503c\uff0c\u8fd4\u56de\u540e\u51fd\u6570\u6267\u884c\u5b8c\u6bd5\uff0c\u51fd\u6570\u4e0a\u4e0b\u6587\u4ece\u6267\u884c\u4e0a\u4e0b\u6587\u6808\u4e2d\u5f39\u51fa"),c.a.createElement(o["a"],{code:"ECStack = [\n    globalContext\n];",lang:"js"})))}));n["default"]=e=>{var n=c.a.useContext(l["context"]),a=n.demos;return c.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),c.a.createElement(r,{demos:a})}}}]);